%\documentclass[dvipdfmx]{beamer}
\documentclass[handout]{beamer}                   % lualatex の場合
\usepackage{mySld}

\begin{document}
\title[OS]{オペレーティングシステム\\第２章 前提知識}
\date{}
\begin{frame}
  \titlepage
  \centerline{\url{https://github.com/tctsigemura/OSTextBook}}
\end{frame}

%=========================================================================
%\begin{frame}
%  \frametitle
%  \tableofcontents
%\end{frame}

%=========================================================================
\section{コンピュータのハードウェア構成}
\begin{frame}
  \frametitle{ハードウェア構成}
  \fig{scale=0.41}{hardBlock-crop.pdf}
  \begin{itemize}
    \item SMP（Symmetric Multiprocessing）
    \item CPU，メモリ，タイマー，アダプタ，コントローラ，バス
    \item DMA（Direct Memory Access），I/O完了割込み
  \end{itemize}
\end{frame}

%=========================================================================
\section{CPUの構成}
\begin{frame}
  \frametitle{CPUの構成}
  \fig{scale=0.5}{cpuBlock-crop.pdf}
  \begin{itemize}
    \item PSW（Program Status Word）
    \item CPUレジスタ
    \item 割り込み（Interrupt）
  \end{itemize}
\end{frame}

%=========================================================================
\section{最近のコンピュータの実際の構成}
\begin{frame}
  \frametitle{デスクトップ・パーソナルコンピュータ}
  \fig{scale=0.5}{intelDesktop-crop.pdf}
  \begin{itemize}
    \item CPU
    \item コア（Core）
  \end{itemize}
\end{frame}

%=========================================================================
\begin{frame}
  \frametitle{サーバコンピュータ}
  \fig{scale=0.4}{intelServer-crop.pdf}
\end{frame}

%=========================================================================
\section{割込み}
\begin{frame}
  \frametitle{割込み}
  ユーザ・プロセスからカーネルに切り換わる唯一の方法
  \begin{enumerate}
    \item[1.] I/O完了・タイマー \\
      ホストコントローラ，ネットワークアダプタ，タイマー等の
      コマンド完了など
    \item[2.] システムコール \\
      ユーザ／プロセスが\emph{SVC（Supervisor Call）命令}を実行
    \item[3.] 保護違反 \\
      特権違反，メモリ保護違反
    \item[4.] ソフトウェアのエラー \\
      オーバーフロー，ゼロ除算など
    \item[5.] ハードウエアのエラー \\
      故障，電源異常
  \end{enumerate}
  \vfill
\end{frame}

%=========================================================================
\section{オペレーティングシステムの構造}
\begin{frame}
  \frametitle{オペレーティングシステムの構造}
  \fig{scale=0.49}{osOrganization-crop.pdf}
\end{frame}

%=========================================================================
\begin{frame}
  \frametitle{プロセスの構造}
  \fig{scale=0.5}{procOrganization-crop.pdf}
\end{frame}

%=========================================================================
\section{カーネルの構成方式}
\begin{frame}
  \frametitle{単層カーネル（モノリシック・カーネル）}
  \fig{scale=0.49}{osOrganization-crop.pdf}
\end{frame}

%=========================================================================
\begin{frame}
  \frametitle{マイクロカーネル（micro-kernel）}
  \fig{scale=0.5}{microkernel-crop.pdf}
\end{frame}

%=========================================================================
\section{もう一つの仮想マシン}
\begin{frame}
  \frametitle{Type 2 ハイパーバイザ}
  \fig{scale=0.6}{type2Hypervisor-crop.pdf}
  \begin{itemize}
  \item ホスト・オペレーティングシステム
  \item ゲスト・オペレーティングシステム
  \item VMware Workstation， VirtualBox
  \end{itemize}
\end{frame}

%=========================================================================
\begin{frame}
  \frametitle{Type 1 ハイパーバイザ}
  \fig{scale=0.6}{type1Hypervisor-crop.pdf}
  \begin{itemize}
  \item メインフレーム： IBM z/VM
  \item PCサーバ： VMware vSphere， Xen， Hyper-V
  \end{itemize}
\end{frame}

%=========================================================================
\begin{frame}
  \frametitle{仮想アプライアンス}
  \begin{itemize}
  \item 仮想マシンのディスクイメージの配布
  \item ソフトウェアの新しい流通手法
  \end{itemize}
\end{frame}

%=========================================================================
\section{TaC}
\begin{frame}
  \frametitle{実装例}
  \vfill
  \begin{center}
    \textbf{\LARGE 第１８章} \\
    \textbf{\LARGE TaC（Tokuyama Advanced educational Computer）}
  \end{center}
  \vfill
\end{frame}

%=========================================================================
\section{TaC}
\begin{frame}
  \frametitle{TeC7とTaC}
  \begin{minipage}{0.58\columnwidth}
    \photo{scale=0.27}{TeC7.jpg}{(a) TeC7の写真}
  \end{minipage}
  \begin{minipage}{0.38\columnwidth}
    \photo{scale=0.22}{TaC.jpg}{(b) TaCとしての使用例}
  \end{minipage}
\vfill
TeC7は，TacOSを書き込んだマイクロSDカードを装着すると，
簡単なPC（TaC）として使用できる．
\end{frame}

%=========================================================================
\begin{frame}
  \frametitle{TaCのハードウェア}
  \fig{scale=0.49}{tacBlock-crop.pdf}
\end{frame}

%=========================================================================
\begin{frame}
  \frametitle{TacOSの構造}
  \fig{scale=0.49}{tacosOrganization-crop.pdf}
\end{frame}

%=========================================================================
\section{練習問題}
\begin{frame}
  \frametitle{練習問題}
  \vfill
  \begin{center}
    \textbf{\Huge 練習問題}
  \end{center}
  \vfill
\end{frame}

%=========================================================================
\begin{frame}
  \frametitle{練習問題（１）}
  次の言葉の意味を説明しなさい．
  \begin{itemize}
  \item CPU・ホストコントローラ・バス
  \item DMA
  \item SMP（対象型マルチプロセッシング）
  \item PSW・CPUレジスタ，割込み，SVC命令
  \item ディスパッチャ
  \item サービスモジュール
  \item デバイスドライバ
  \item カーネルのコア
  \item コンテキスト
  \item 仮想CPU
  \item 仮想メモリ空間
  \item 単層カーネル（モノリシック・カーネル）・マイクロカーネル
  \item IPC（プロセス間通信）
  \item Type 1 ハイパーバイザ・Type 2 ハイパーバイザ
  \end{itemize}
  \vfill
\end{frame}

%=========================================================================
\begin{frame}
  \frametitle{練習問題（２）}
  自分が使用しているPCのハードウェア構成を調べなさい．
  \begin{itemize}
  \item CPUの種類（名称，メーカ，クロック，コア数（CPU数））
  \item メモリの大きさ
  \item 二次記憶装置（ストレージ）の種類（ハードディスク？，SSD？）
  \item 二次記憶装置（ストレージ）の大きさ
  \item グラフィックアダプタの種類
  \item キーボードやマウスの接続方式（USB？，Bluetooth？）
  \end{itemize}
  \vfill
\end{frame}

\end{document}
